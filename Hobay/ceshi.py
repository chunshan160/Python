#!/usr/bin/env python
# -*- coding:utf-8 -*-
# @Time :2020/9/24 17:07
# @Author :春衫
# @File :ceshi.py


data=[{'expand': 'operations,versionedRepresentations,editmeta,changelog,renderedFields', 'id': '12812', 'self': 'http://10.10.67.25/jira/rest/api/2/issue/12812', 'key': 'KITAS-359', 'fields': {'summary': 'SIT-房抵贷1.1-风控四审：审批拒绝提交报错', 'assignee': {'self': 'http://10.10.67.25/jira/rest/api/2/user?username=xujinglin', 'name': 'xujinglin', 'key': 'JIRAUSER10232', 'emailAddress': 'xu_jinglin@hoperun.com', 'avatarUrls': {'48x48': 'http://10.10.67.25/jira/secure/useravatar?avatarId=10349', '24x24': 'http://10.10.67.25/jira/secure/useravatar?size=small&avatarId=10349', '16x16': 'http://10.10.67.25/jira/secure/useravatar?size=xsmall&avatarId=10349', '32x32': 'http://10.10.67.25/jira/secure/useravatar?size=medium&avatarId=10349'}, 'displayName': '徐菁琳', 'active': True, 'timeZone': 'Asia/Shanghai'}, 'priority': {'self': 'http://10.10.67.25/jira/rest/api/2/priority/2', 'iconUrl': 'http://10.10.67.25/jira/images/icons/priorities/high.svg', 'name': '较高', 'id': '2'}, 'status': {'self': 'http://10.10.67.25/jira/rest/api/2/status/10101', 'description': '验收通过关闭Bug', 'iconUrl': 'http://10.10.67.25/jira/images/icons/statuses/generic.png', 'name': '已关闭', 'id': '10101', 'statusCategory': {'self': 'http://10.10.67.25/jira/rest/api/2/statuscategory/3', 'id': 3, 'key': 'done', 'colorName': 'green', 'name': '完成'}}}},{'expand': 'operations,versionedRepresentations,editmeta,changelog,renderedFields', 'id': '12812', 'self': 'http://10.10.67.25/jira/rest/api/2/issue/12812', 'key': 'KITAS-359', 'fields': {'summary': 'SIT-房抵贷1.1-风控四审：审批拒绝提交报错', 'assignee': {'self': 'http://10.10.67.25/jira/rest/api/2/user?username=xujinglin', 'name': 'xujinglin', 'key': 'JIRAUSER10232', 'emailAddress': 'xu_jinglin@hoperun.com', 'avatarUrls': {'48x48': 'http://10.10.67.25/jira/secure/useravatar?avatarId=10349', '24x24': 'http://10.10.67.25/jira/secure/useravatar?size=small&avatarId=10349', '16x16': 'http://10.10.67.25/jira/secure/useravatar?size=xsmall&avatarId=10349', '32x32': 'http://10.10.67.25/jira/secure/useravatar?size=medium&avatarId=10349'}, 'displayName': '徐菁琳', 'active': True, 'timeZone': 'Asia/Shanghai'}, 'priority': {'self': 'http://10.10.67.25/jira/rest/api/2/priority/2', 'iconUrl': 'http://10.10.67.25/jira/images/icons/priorities/high.svg', 'name': '较高', 'id': '2'}, 'status': {'self': 'http://10.10.67.25/jira/rest/api/2/status/10101', 'description': '验收通过关闭Bug', 'iconUrl': 'http://10.10.67.25/jira/images/icons/statuses/generic.png', 'name': '已分配', 'id': '10101', 'statusCategory': {'self': 'http://10.10.67.25/jira/rest/api/2/statuscategory/3', 'id': 3, 'key': 'done', 'colorName': 'green', 'name': '完成'}}}},{'expand': 'operations,versionedRepresentations,editmeta,changelog,renderedFields', 'id': '12812', 'self': 'http://10.10.67.25/jira/rest/api/2/issue/12812', 'key': 'KITAS-359', 'fields': {'summary': 'SIT-房抵贷1.1-风控四审：审批拒绝提交报错', 'assignee': {'self': 'http://10.10.67.25/jira/rest/api/2/user?username=xujinglin', 'name': 'xujinglin', 'key': 'JIRAUSER10232', 'emailAddress': 'xu_jinglin@hoperun.com', 'avatarUrls': {'48x48': 'http://10.10.67.25/jira/secure/useravatar?avatarId=10349', '24x24': 'http://10.10.67.25/jira/secure/useravatar?size=small&avatarId=10349', '16x16': 'http://10.10.67.25/jira/secure/useravatar?size=xsmall&avatarId=10349', '32x32': 'http://10.10.67.25/jira/secure/useravatar?size=medium&avatarId=10349'}, 'displayName': '张三', 'active': True, 'timeZone': 'Asia/Shanghai'}, 'priority': {'self': 'http://10.10.67.25/jira/rest/api/2/priority/2', 'iconUrl': 'http://10.10.67.25/jira/images/icons/priorities/high.svg', 'name': '较高', 'id': '2'}, 'status': {'self': 'http://10.10.67.25/jira/rest/api/2/status/10101', 'description': '验收通过关闭Bug', 'iconUrl': 'http://10.10.67.25/jira/images/icons/statuses/generic.png', 'name': '已关闭', 'id': '10101', 'statusCategory': {'self': 'http://10.10.67.25/jira/rest/api/2/statuscategory/3', 'id': 3, 'key': 'done', 'colorName': 'green', 'name': '完成'}}}},{'expand': 'operations,versionedRepresentations,editmeta,changelog,renderedFields', 'id': '12812', 'self': 'http://10.10.67.25/jira/rest/api/2/issue/12812', 'key': 'KITAS-359', 'fields': {'summary': 'SIT-房抵贷1.1-风控四审：审批拒绝提交报错', 'assignee': {'self': 'http://10.10.67.25/jira/rest/api/2/user?username=xujinglin', 'name': 'xujinglin', 'key': 'JIRAUSER10232', 'emailAddress': 'xu_jinglin@hoperun.com', 'avatarUrls': {'48x48': 'http://10.10.67.25/jira/secure/useravatar?avatarId=10349', '24x24': 'http://10.10.67.25/jira/secure/useravatar?size=small&avatarId=10349', '16x16': 'http://10.10.67.25/jira/secure/useravatar?size=xsmall&avatarId=10349', '32x32': 'http://10.10.67.25/jira/secure/useravatar?size=medium&avatarId=10349'}, 'displayName': '张三', 'active': True, 'timeZone': 'Asia/Shanghai'}, 'priority': {'self': 'http://10.10.67.25/jira/rest/api/2/priority/2', 'iconUrl': 'http://10.10.67.25/jira/images/icons/priorities/high.svg', 'name': '较高', 'id': '2'}, 'status': {'self': 'http://10.10.67.25/jira/rest/api/2/status/10101', 'description': '验收通过关闭Bug', 'iconUrl': 'http://10.10.67.25/jira/images/icons/statuses/generic.png', 'name': '已关闭', 'id': '10101', 'statusCategory': {'self': 'http://10.10.67.25/jira/rest/api/2/statuscategory/3', 'id': 3, 'key': 'done', 'colorName': 'green', 'name': '完成'}}}}]

sum1=0
sum2=0
# list1=[]
# renshu=0
# for b in data:
#     name = b['fields']['assignee']['displayName']
#     if name not in list1:
#         list1.append(name)
#
# print(list1)

list1=['徐菁琳', '张三']
list2=[]
list3=['已关闭','已分配']

for i in list1:
    print(i)
    for c in data:
        name = c['fields']['assignee']['displayName']
        bug_status = c['fields']['status']['name']
        if name==i and bug_status=='已关闭':
            sum1+=1
        if name==i and bug_status=='已分配':
            sum2+=1
        a={"创建人": name, '已关闭': sum1, '已分配': sum2}
        list2.append(a)
    # print(sum1,sum2)

print(list2)