{"name": "test_1_buy_entity_goods[data0]", "status": "broken", "statusDetails": {"message": "AttributeError: 'NoneType' object has no attribute 'save_screenshot'", "trace": "self = <PageObjects.Web.Index.Index.IndexPage object at 0x000001C08D6BD580>\nlocator = ('class name', 'search_box'), times = 30, poll_frequency = 0.5\ndoc = '测试购买实物商品-点击【搜索栏】-'\n\n    def wait_eleVisible(self, locator, times=30, poll_frequency=0.5, doc=\"\"):\n        try:\n            UserLog().info(f\"等待元素{locator}可见\")\n            # 开始等待的时间\n            start_time = time.time()\n>           WebDriverWait(self.driver, times, poll_frequency).until(EC.visibility_of_element_located(locator))\n\n..\\..\\..\\Common\\BasePage.py:61: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <[AttributeError(\"'NoneType' object has no attribute 'session_id'\") raised in repr()] WebDriverWait object at 0x1c08d6eaca0>\nmethod = <selenium.webdriver.support.expected_conditions.visibility_of_element_located object at 0x000001C08D72F4C0>\nmessage = ''\n\n    def until(self, method, message=''):\n        \"\"\"Calls the method provided with the driver as an argument until the \\\n        return value is not False.\"\"\"\n        screen = None\n        stacktrace = None\n    \n        end_time = time.time() + self._timeout\n        while True:\n            try:\n>               value = method(self._driver)\n\nD:\\Python38\\lib\\site-packages\\selenium\\webdriver\\support\\wait.py:71: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <selenium.webdriver.support.expected_conditions.visibility_of_element_located object at 0x000001C08D72F4C0>\ndriver = None\n\n    def __call__(self, driver):\n        try:\n>           return _element_if_visible(_find_element(driver, self.locator))\n\nD:\\Python38\\lib\\site-packages\\selenium\\webdriver\\support\\expected_conditions.py:128: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\ndriver = None, by = ('class name', 'search_box')\n\n    def _find_element(driver, by):\n        \"\"\"Looks up an element. Logs and re-raises ``WebDriverException``\n        if thrown.\"\"\"\n        try:\n>           return driver.find_element(*by)\nE           AttributeError: 'NoneType' object has no attribute 'find_element'\n\nD:\\Python38\\lib\\site-packages\\selenium\\webdriver\\support\\expected_conditions.py:411: AttributeError\n\nDuring handling of the above exception, another exception occurred:\n\nself = <Hobay.TestCases.Web.BuyGoods.test_.TestBuyGoods object at 0x000001C08CD8AD30>\nweb_buy_goods = None, data = {'goods_name': 'APP实物商品', 'payment_method': '易贝'}\n\n    @allure.story(\"购买实物商品\")\n    @pytest.mark.smoke\n    @pytest.mark.usefixtures(\"web_buy_goods\")\n    @pytest.mark.parametrize(\"data\", buy_entity_goods)\n    def test_1_buy_entity_goods(self, web_buy_goods, data):\n        doc = \"测试购买实物商品-\"\n        driver = web_buy_goods\n        with allure.step(\"首页点击搜索\"):\n>           IndexPage(driver).search(text=doc)\n\ntest_.py:32: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n..\\..\\..\\PageObjects\\Web\\Index\\Index.py:22: in search\n    self.click_element(Index.search, doc=doc)\n..\\..\\..\\Common\\BasePage.py:114: in click_element\n    self.wait_eleVisible(locator, doc=doc)\n..\\..\\..\\Common\\BasePage.py:71: in wait_eleVisible\n    self.save_screenshot(doc)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <PageObjects.Web.Index.Index.IndexPage object at 0x000001C08D6BD580>\nname = '测试购买实物商品-点击【搜索栏】-'\n\n    def save_screenshot(self, name):\n        time1 = datetime.datetime.now().strftime('%Y-%m-%d')\n        time2 = datetime.datetime.now().strftime('%Y-%m-%d-%H-%M-%S')\n        # 图片名称+模块名+页面名称+操作名称+时间.png\n        file_Path = error_image + f\"\\\\{time1}\"\n        if not os.path.exists(file_Path):\n            os.makedirs(file_Path)\n        file_name = file_Path + f\"\\\\{time2}-{name}.png\"\n>       self.driver.save_screenshot(file_name)\nE       AttributeError: 'NoneType' object has no attribute 'save_screenshot'\n\n..\\..\\..\\Common\\BasePage.py:278: AttributeError"}, "steps": [{"name": "首页点击搜索", "status": "broken", "statusDetails": {"message": "AttributeError: 'NoneType' object has no attribute 'save_screenshot'\n", "trace": "  File \"D:\\Pycharm_workspace\\Hobay\\TestCases\\Web\\BuyGoods\\test_.py\", line 32, in test_1_buy_entity_goods\n    IndexPage(driver).search(text=doc)\n  File \"D:\\Pycharm_workspace\\Hobay\\PageObjects\\Web\\Index\\Index.py\", line 22, in search\n    self.click_element(Index.search, doc=doc)\n  File \"D:\\Pycharm_workspace\\Hobay\\Common\\BasePage.py\", line 114, in click_element\n    self.wait_eleVisible(locator, doc=doc)\n  File \"D:\\Pycharm_workspace\\Hobay\\Common\\BasePage.py\", line 71, in wait_eleVisible\n    self.save_screenshot(doc)\n  File \"D:\\Pycharm_workspace\\Hobay\\Common\\BasePage.py\", line 278, in save_screenshot\n    self.driver.save_screenshot(file_name)\n"}, "start": 1600767795057, "stop": 1600767795059}], "attachments": [{"name": "log", "source": "2af27620-ac3d-4623-9b89-a9ad79618f92-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "data", "value": "{'goods_name': 'APP实物商品', 'payment_method': '易贝'}"}], "start": 1600767795057, "stop": 1600767795059, "uuid": "a3e05b39-6645-4e34-8443-608669827b07", "historyId": "3dbeddef5288c58554ff7949817effcd", "fullName": "Web.BuyGoods.test_.TestBuyGoods#test_1_buy_entity_goods[data0]", "labels": [{"name": "story", "value": "购买实物商品"}, {"name": "feature", "value": "购买商品功能"}, {"name": "tag", "value": "smoke"}, {"name": "parentSuite", "value": "Web.BuyGoods"}, {"name": "suite", "value": "test_"}, {"name": "subSuite", "value": "TestBuyGoods"}, {"name": "host", "value": "DESKTOP-4EMDDAT"}, {"name": "thread", "value": "13752-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "Web.BuyGoods.test_"}]}